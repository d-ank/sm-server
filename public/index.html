<!DOCTYPE html>
<html lang="en">

<head>
    <title>stream overlay</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.1.3/pixi.min.js"></script>
    <script>
        window.onload = function () {
            var conn = new WebSocket("ws://{{.Host}}/ws");
            const app = new PIXI.Application({
                antialias: true,
                transparent: true,
                resizeTo: window,
                autoDensity: true,
                resolution: devicePixelRatio
            });
            document.body.appendChild(app.view);
            const graphics = new PIXI.Graphics();
            conn.onclose = function (evt) {
                graphics.clear()
            }
            conn.onmessage = function (evt) {
                graphics.clear()

                graphics.beginFill(0xDE3249);
                graphics.drawRect(evt.data, 50, 100, 100);
                graphics.endFill();
            }
            graphics.beginFill(0xDE3249);
            graphics.drawRect(50, 50, 100, 100);
            graphics.endFill();
            app.stage.addChild(graphics);
        }
    </script>
</head>

<body>
    <div id="main">

    </div>
</body>

</html>